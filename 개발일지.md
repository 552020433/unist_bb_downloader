## 17\. 7. 24 월요일

1. 통신할 때 requests 라는 모듈 사용
2. http://bb.unist.ac.kr 에서 로그인 시도
3. 로그인을 할 때 아이디는 그냥 원문 그대로 보대는 대신 비밀번호는 base64로 인코딩 한다음 POST 로 보내야함
4. 로그인 성공 후 단순히 get 하면 불충분한 메인 페이지가 나옴
5. 불충분한 메인 페이지 분석을 통해 http://bb.unist.ac.kr/webapps/blackboard/execute/globalCourseNavMenuSection?cmd=view&serviceLevel=blackboard.data.course.Course$ServiceLevel:FULL 에서 모든 과목 목록 및 과목 URL을 볼 수 있다는 것을 확인
6. 과목 목록 페이지에 있는 URL로 과목에 접근하면 또 불충분한 메인 페이지가 나옴, 그런데 크롬에서는 잘됨
7. Wireshark 를 이용해서 내부적으로 다른 페이지로 연결해주는걸 확인
8. 최종 목적지 URL에는 내부적으로 따로 처리해준 것 같은 인자가 있어서 각각의 과목에 일괄적으로 사용할 수 없음
9. 알 수 있는 인자만 있는 URL 중에서 가장 마지막 URL을 get 해보니 잘됨
10. course 페이지에서 Annoucements나 Assignments 같은거 링크 파싱

## 17\. 7. 31 월요일 (v0.1)

1. main에 있던거 거의 다 함수로 바꿈
2. 그냥 내용부분하고 첨부파일부분을 따로 나눠서 첨부파일이 있으면 폴더를 따로 만들어 주고 첨부파일이 하나도 없으면 그냥 과목 폴더 바로 밑에 내용 html 파일 생성

## 17\. 8. 1 화요일 (v0.2)

1. 한 과목 다운로드가 다 끝난 후 다시 로그인 안시키고 기존 session을 이용하게 함
2. 어떤 html은 내용이 전부 날아간채로 저장되어있길래 머지 했는데 \<img ~~ /> 라고 써야하는걸 \<img ~~> 라고만 쓰고 \</img> 로 안닫아줘서 img 태그 다 없앨 때 같이 날라갔던 것이였다. prettify() 함수로 짝 다 맞춰주고 다시 불러온 후 작업해서 해결
3. 파일이 attatched file: ~~ 형식이 아니라 그냥 제목에 링크로 연결되어 있는 경우도 파일 다운로드 처리하게 함
4. 파일이 제목에 링크로 되어있으면 파일 타입을 바로 알 수 없음. 그래서 최종 url 을 가져와서 regex로 타입만 가져옴
5. 과목선택에서 q 로 나가는거 추가

## 17\. 8. 3 수요일

1. pyqt5 로 GUI 를 만들고 싶음
2. pip install pyqt5 로 pyqt5 설치, pip install pyqt5-tools 로 qt designer 설치
3. login, main window를 qt designer로 만듦
4. pyuic5 를 사용해서 .ui 파일을 .py 파일로 바꿔주는 ui2py.bat 파일 제작

## 17\. 8. 7 월요일

1. download window도 qt designer로 만듦
2. 처음 실행시키면 login window 에서 학번, 비밀번호를 받고 연결이 되면 main window로, 실패하면 오류내용에 따라 경고창 띄우고 다시 로그인할 수 있게함
3. main window 에서는 과목과 그 밑에 메뉴 항목을 가져와서 각각 Tree Widget으로 보여줌
4. 메뉴 항목에서는 파일 이름과 크기를 보여줌
5. Tree Widget을 쓸때 child.setFlags(child.flags() | Qt.ItemIsUserCheckable) 한 다음 child.setCheckState(0, Qt.Unchecked) 해줘야 체크가 가능해짐
6. 기본은 아무것도 체크되어 있지 않게 하고 각 항목 및 전체 선택을 가능하게 함
7. menu bar에는 로그아웃과 현재 폴더를 열수있는 기능 추가
8. 다운로드 버튼을 눌렀을 때 아무것도 선택 안되어 있으면 에러 처리
9. 개별 다운로드와 전체 다운로드 progress를 나눠서 progress bar로 보여줌
10. 개별 다운로드는 requests stream으로 받으면서 측정, 전체 다운로드는 전체 파일 크기를 미리 받아놓고 측정
11. bb_downloader.py 를 bb_downloader_cui.py 와 bb_downloader_gui.py 로 나누고, bb_downloader_gui.py에서 함수들을 bb_downloader_func.py 로 뺌

## 17\. 8. 8 화요일
1. 대충 로그인창 기능 구현 다함

2. 창이 SizePolicy에서 Fixed 줘도 막 바껴서 머징 했는데 resize()말고 LoginWindow.setFixedSize() 를 쓰니 굳이 SizePolicy 안써도 크기 고정 잘됨

3. 로그인이 성공하면 로그인창을 끄고 메인창을 띄우고 싶은데 메인창이 띄어지고 바로 꺼짐

4. 메인윈도우가 함수 내 지역변수라 끝나면 죽어서 바로 꺼졌던 것, self. 으로 class 단위로 퉁치니 해결

5. self.LoginWindow.setEnabled(False) 해도 바로 윈도우창에 적용이 안되서 찾아보니 self.LoginWindow.repaint() 로 바로 업데이트 해줘야하는거 였음 self.LoginWindow.update()는 안됨..

## 17\. 8. 9 수요일
1. 파일 목록을 불러오게 하려고 하는데 그 때 그 때 불러오면 끊겨서 처음에 전부 다 불러오려고 함

2. 근데 메뉴에 파일만 있는게 아니라 폴더도 있어서 따로 처리해줘야함

3. 그냥 리스트로 하기에는 너무 복잡해서 class로 만들어서 하기로 결정

## 17\. 8. 10 목요일

1. account, course, menu 다 class로 바꿈

2. 마지막으로 리다이렉션된 url을 가져오려고 하는데 head만 가져오면 안가져와지고, 다 가져오자니 파일을 다 가져와서 엄청 느림, 받는 크기에 제한을 둬서 해결 

## 17\. 8. 11 금요일
1. ui 잘못 변환시켰다가 한 것들 다 날아감

2. .pyc 파일이 남아있어서 다시 복구함

## 17\. 8. 14 월요일

1. About창 만듬
2. 처음 실행시켰을 때 2분정도 걸리는걸 좀 줄이고 싶은데 멀티스레드 말고는 답이 없음. 근데 멀티스레드는 귀찮아서 안함 별로 시간이 의미있는것도 아니고
3. fileTree.selectedItems() 로 선택된 아이템들을 downloadUi에 넘겨주려고 했는데 빈 리스트만 나옴.
4. 그래서 그냥 MainWindow에서 다운로드할 파일 리스트를 체크할때마다 갱신해서 리스트를 바로 넘겨주는 걸로 할 생각.